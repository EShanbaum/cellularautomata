import{s as ge,e as F,d as P,f as V,i as S,v as A,k as G,O as R,n as ae,P as $e,b as j,j as J,l as b,Q as z,A as Be,t as Z,h as x,F as Fe,R as ce,S as re,m as we,T as xe,U as Pe,V as et,W as Ne,w as De,X as Ue,x as ue,Y as ie,z as Ve}from"../chunks/scheduler.vVxgJjNz.js";import{S as de,i as me,t as W,g as Ce,c as Ie,a as ee,b as ke,d as Ee,m as Oe,e as Se,f as fe}from"../chunks/index.RFs9ZdB2.js";function Q(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function tt(t){let e,l,s,n;return{c(){e=F("div"),this.h()},l(o){e=P(o,"DIV",{style:!0,class:!0});var r=V(e);r.forEach(S),this.h()},h(){A(e,"style",l=t[0]+"; background-color: "+t[1]),A(e,"class","svelte-d73ond")},m(o,r){G(o,e,r),s||(n=R(e,"click",t[2]),s=!0)},p(o,[r]){r&3&&l!==(l=o[0]+"; background-color: "+o[1])&&A(e,"style",l)},i:ae,o:ae,d(o){o&&S(e),s=!1,n()}}}function lt(t,e,l){let{state:s="off"}=e,{x:n=0}=e,{y:o=0}=e,{style:r=""}=e,{color:_="#000000"}=e;const p=$e();function E(){p("coords",{x:n,y:o})}return t.$$set=T=>{"state"in T&&l(3,s=T.state),"x"in T&&l(4,n=T.x),"y"in T&&l(5,o=T.y),"style"in T&&l(0,r=T.style),"color"in T&&l(1,_=T.color)},[r,_,E,s,n,o]}class nt extends de{constructor(e){super(),me(this,e,lt,tt,ge,{state:3,x:4,y:5,style:0,color:1})}}function st(t){let e,l,s,n,o,r;return{c(){e=F("div"),l=F("input"),s=j(),n=F("input"),this.h()},l(_){e=P(_,"DIV",{class:!0});var p=V(e);l=P(p,"INPUT",{type:!0}),s=J(p),n=P(p,"INPUT",{type:!0}),p.forEach(S),this.h()},h(){A(l,"type","color"),A(n,"type","text"),A(e,"class","svelte-18i87rm")},m(_,p){G(_,e,p),b(e,l),z(l,t[1]),b(e,s),b(e,n),z(n,t[0]),o||(r=[R(l,"input",t[2]),R(n,"input",t[3])],o=!0)},p(_,[p]){p&2&&z(l,_[1]),p&1&&n.value!==_[0]&&z(n,_[0])},i:ae,o:ae,d(_){_&&S(e),o=!1,Be(r)}}}function ot(t,e,l){let{name:s}=e,{color:n}=e;function o(){n=this.value,l(1,n)}function r(){s=this.value,l(0,s)}return t.$$set=_=>{"name"in _&&l(0,s=_.name),"color"in _&&l(1,n=_.color)},[s,n,o,r]}class ut extends de{constructor(e){super(),me(this,e,ot,st,ge,{name:0,color:1})}}function Le(t,e,l){const s=t.slice();return s[11]=e[l],s}function Re(t,e,l){const s=t.slice();return s[14]=e[l],s}function ze(t,e,l){const s=t.slice();return s[11]=e[l],s}function je(t,e,l){const s=t.slice();return s[11]=e[l],s}function Je(t){let e,l=t[11]+"",s,n;return{c(){e=F("option"),s=Z(l),this.h()},l(o){e=P(o,"OPTION",{});var r=V(e);s=x(r,l),r.forEach(S),this.h()},h(){e.__value=n=t[11],z(e,e.__value)},m(o,r){G(o,e,r),b(e,s)},p(o,r){r&16&&l!==(l=o[11]+"")&&we(s,l),r&16&&n!==(n=o[11])&&(e.__value=n,z(e,e.__value))},d(o){o&&S(e)}}}function Xe(t){let e,l=t[11]+"",s,n;return{c(){e=F("option"),s=Z(l),this.h()},l(o){e=P(o,"OPTION",{});var r=V(e);s=x(r,l),r.forEach(S),this.h()},h(){e.__value=n=t[11],z(e,e.__value)},m(o,r){G(o,e,r),b(e,s)},p(o,r){r&16&&l!==(l=o[11]+"")&&we(s,l),r&16&&n!==(n=o[11])&&(e.__value=n,z(e,e.__value))},d(o){o&&S(e)}}}function Ge(t){let e,l,s,n,o,r,_,p,E,T;return p=xe(t[9][0]),{c(){e=F("label"),l=F("input"),s=j(),n=F("br"),o=j(),r=F("span"),_=Z(t[14]),this.h()},l(I){e=P(I,"LABEL",{class:!0});var k=V(e);l=P(k,"INPUT",{type:!0}),s=J(k),n=P(k,"BR",{}),o=J(k),r=P(k,"SPAN",{class:!0});var m=V(r);_=x(m,t[14]),m.forEach(S),k.forEach(S),this.h()},h(){A(l,"type","checkbox"),l.__value=t[14],z(l,l.__value),A(r,"class","svelte-1ui74i5"),A(e,"class","svelte-1ui74i5"),p.p(l)},m(I,k){G(I,e,k),b(e,l),l.checked=~(t[3]||[]).indexOf(l.__value),b(e,s),b(e,n),b(e,o),b(e,r),b(r,_),E||(T=R(l,"change",t[8]),E=!0)},p(I,k){k&8&&(l.checked=~(I[3]||[]).indexOf(l.__value))},d(I){I&&S(e),p.r(),E=!1,T()}}}function Me(t){let e,l=t[11]+"",s,n;return{c(){e=F("option"),s=Z(l),this.h()},l(o){e=P(o,"OPTION",{});var r=V(e);s=x(r,l),r.forEach(S),this.h()},h(){e.__value=n=t[11],z(e,e.__value)},m(o,r){G(o,e,r),b(e,s)},p(o,r){r&16&&l!==(l=o[11]+"")&&we(s,l),r&16&&n!==(n=o[11])&&(e.__value=n,z(e,e.__value))},d(o){o&&S(e)}}}function it(t){let e,l,s,n,o,r,_,p,E,T,I,k=Q(t[4]),m=[];for(let c=0;c<k.length;c+=1)m[c]=Je(je(t,k,c));let U=Q(t[4]),B=[];for(let c=0;c<U.length;c+=1)B[c]=Xe(ze(t,U,c));let X=Q([0,1,2,3,4,5,6,7,8]),g=[];for(let c=0;c<9;c+=1)g[c]=Ge(Re(t,X,c));let w=Q(t[4]),O=[];for(let c=0;c<w.length;c+=1)O[c]=Me(Le(t,w,c));return{c(){e=F("div"),l=F("span"),s=F("select");for(let c=0;c<m.length;c+=1)m[c].c();n=Z(`
        →
        `),o=F("select");for(let c=0;c<B.length;c+=1)B[c].c();r=j(),_=F("div");for(let c=0;c<9;c+=1)g[c].c();p=j(),E=F("select");for(let c=0;c<O.length;c+=1)O[c].c();this.h()},l(c){e=P(c,"DIV",{class:!0});var d=V(e);l=P(d,"SPAN",{});var i=V(l);s=P(i,"SELECT",{});var y=V(s);for(let D=0;D<m.length;D+=1)m[D].l(y);y.forEach(S),n=x(i,`
        →
        `),o=P(i,"SELECT",{});var te=V(o);for(let D=0;D<B.length;D+=1)B[D].l(te);te.forEach(S),i.forEach(S),r=J(d),_=P(d,"DIV",{});var M=V(_);for(let D=0;D<9;D+=1)g[D].l(M);p=J(M),E=P(M,"SELECT",{});var oe=V(E);for(let D=0;D<O.length;D+=1)O[D].l(oe);oe.forEach(S),M.forEach(S),d.forEach(S),this.h()},h(){t[0]===void 0&&Fe(()=>t[6].call(s)),t[1]===void 0&&Fe(()=>t[7].call(o)),t[2]===void 0&&Fe(()=>t[10].call(E)),A(e,"class","rule svelte-1ui74i5")},m(c,d){G(c,e,d),b(e,l),b(l,s);for(let i=0;i<m.length;i+=1)m[i]&&m[i].m(s,null);ce(s,t[0],!0),b(l,n),b(l,o);for(let i=0;i<B.length;i+=1)B[i]&&B[i].m(o,null);ce(o,t[1],!0),b(e,r),b(e,_);for(let i=0;i<9;i+=1)g[i]&&g[i].m(_,null);b(_,p),b(_,E);for(let i=0;i<O.length;i+=1)O[i]&&O[i].m(E,null);ce(E,t[2],!0),T||(I=[R(s,"change",t[6]),R(o,"change",t[7]),R(E,"change",t[10])],T=!0)},p(c,[d]){if(d&16){k=Q(c[4]);let i;for(i=0;i<k.length;i+=1){const y=je(c,k,i);m[i]?m[i].p(y,d):(m[i]=Je(y),m[i].c(),m[i].m(s,null))}for(;i<m.length;i+=1)m[i].d(1);m.length=k.length}if(d&17&&ce(s,c[0]),d&16){U=Q(c[4]);let i;for(i=0;i<U.length;i+=1){const y=ze(c,U,i);B[i]?B[i].p(y,d):(B[i]=Xe(y),B[i].c(),B[i].m(o,null))}for(;i<B.length;i+=1)B[i].d(1);B.length=U.length}if(d&18&&ce(o,c[1]),d&8){X=Q([0,1,2,3,4,5,6,7,8]);let i;for(i=0;i<9;i+=1){const y=Re(c,X,i);g[i]?g[i].p(y,d):(g[i]=Ge(y),g[i].c(),g[i].m(_,p))}for(;i<9;i+=1)g[i].d(1)}if(d&16){w=Q(c[4]);let i;for(i=0;i<w.length;i+=1){const y=Le(c,w,i);O[i]?O[i].p(y,d):(O[i]=Me(y),O[i].c(),O[i].m(E,null))}for(;i<O.length;i+=1)O[i].d(1);O.length=w.length}d&20&&ce(E,c[2])},i:ae,o:ae,d(c){c&&S(e),re(m,c),re(B,c),re(g,c),re(O,c),T=!1,Be(I)}}}function ft(t,e,l){let{id:s}=e,{sOptions:n}=e,{sFrom:o}=e,{sTo:r}=e,{sNeighbor:_}=e,{nums:p=[]}=e;const E=[[]];function T(){o=Pe(this),l(0,o),l(4,n)}function I(){r=Pe(this),l(1,r),l(4,n)}function k(){p=et(E[0],this.__value,this.checked),l(3,p)}function m(){_=Pe(this),l(2,_),l(4,n)}return t.$$set=U=>{"id"in U&&l(5,s=U.id),"sOptions"in U&&l(4,n=U.sOptions),"sFrom"in U&&l(0,o=U.sFrom),"sTo"in U&&l(1,r=U.sTo),"sNeighbor"in U&&l(2,_=U.sNeighbor),"nums"in U&&l(3,p=U.nums)},[o,r,_,p,n,s,T,I,k,E,m]}class rt extends de{constructor(e){super(),me(this,e,ft,it,ge,{id:5,sOptions:4,sFrom:0,sTo:1,sNeighbor:2,nums:3})}}function Qe(t,e,l){const s=t.slice();return s[36]=e[l],s[37]=e,s[38]=l,s}function We(t,e,l){const s=t.slice();return s[39]=e[l],s[40]=e,s[41]=l,s}function Ye(t,e,l){const s=t.slice();return s[42]=e[l],s}function He(t){var n;let e,l;function s(...o){return t[17](t[42],...o)}return e=new nt({props:{x:t[42].x,y:t[42].y,state:t[42].state,color:(n=t[0].find(s))==null?void 0:n.color,style:t[42].x===t[1]/2?"border-color: #004400":t[42].y===t[1]/2?"border-color: #440000":""}}),e.$on("coords",t[10]),{c(){ke(e.$$.fragment)},l(o){Ee(e.$$.fragment,o)},m(o,r){Oe(e,o,r),l=!0},p(o,r){var p;t=o;const _={};r[0]&4&&(_.x=t[42].x),r[0]&4&&(_.y=t[42].y),r[0]&4&&(_.state=t[42].state),r[0]&5&&(_.color=(p=t[0].find(s))==null?void 0:p.color),r[0]&6&&(_.style=t[42].x===t[1]/2?"border-color: #004400":t[42].y===t[1]/2?"border-color: #440000":""),e.$set(_)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){ee(e.$$.fragment,o),l=!1},d(o){Se(e,o)}}}function Ke(t){let e,l,s=!1,n,o,r,_,p,E,T,I,k,m;function U(g){t[26](g,t[39])}function B(g){t[27](g,t[39])}let X={};return t[39].name!==void 0&&(X.name=t[39].name),t[39].color!==void 0&&(X.color=t[39].color),o=new ut({props:X}),ue.push(()=>fe(o,"name",U)),ue.push(()=>fe(o,"color",B)),I=xe(t[25][0]),{c(){e=F("input"),n=j(),ke(o.$$.fragment),p=j(),E=F("br"),this.h()},l(g){e=P(g,"INPUT",{type:!0}),n=J(g),Ee(o.$$.fragment,g),p=J(g),E=P(g,"BR",{}),this.h()},h(){A(e,"type","radio"),e.__value=l=t[39].name,z(e,e.__value),I.p(e)},m(g,w){G(g,e,w),e.checked=e.__value===t[7],G(g,n,w),Oe(o,g,w),G(g,p,w),G(g,E,w),T=!0,k||(m=R(e,"change",t[24]),k=!0)},p(g,w){t=g,(!T||w[0]&1&&l!==(l=t[39].name))&&(e.__value=l,z(e,e.__value),s=!0),(s||w[0]&129)&&(e.checked=e.__value===t[7]);const O={};!r&&w[0]&1&&(r=!0,O.name=t[39].name,ie(()=>r=!1)),!_&&w[0]&1&&(_=!0,O.color=t[39].color,ie(()=>_=!1)),o.$set(O)},i(g){T||(W(o.$$.fragment,g),T=!0)},o(g){ee(o.$$.fragment,g),T=!1},d(g){g&&(S(e),S(n),S(p),S(E)),Se(o,g),I.r(),k=!1,m()}}}function Ze(t){let e,l,s="X",n,o,r,_,p,E,T,I,k,m;function U(){return t[28](t[36])}function B(d){t[29](d,t[36])}function X(d){t[30](d,t[36])}function g(d){t[31](d,t[36])}function w(d){t[32](d)}function O(d){t[33](d,t[36])}let c={id:t[36].id};return t[36].sFrom!==void 0&&(c.sFrom=t[36].sFrom),t[36].sTo!==void 0&&(c.sTo=t[36].sTo),t[36].sNeighbor!==void 0&&(c.sNeighbor=t[36].sNeighbor),t[9]!==void 0&&(c.sOptions=t[9]),t[36].nums!==void 0&&(c.nums=t[36].nums),o=new rt({props:c}),ue.push(()=>fe(o,"sFrom",B)),ue.push(()=>fe(o,"sTo",X)),ue.push(()=>fe(o,"sNeighbor",g)),ue.push(()=>fe(o,"sOptions",w)),ue.push(()=>fe(o,"nums",O)),{c(){e=F("span"),l=F("button"),l.textContent=s,n=j(),ke(o.$$.fragment),this.h()},l(d){e=P(d,"SPAN",{class:!0,id:!0});var i=V(e);l=P(i,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(l)!=="svelte-1txgw5c"&&(l.textContent=s),n=J(i),Ee(o.$$.fragment,i),i.forEach(S),this.h()},h(){A(l,"class","svelte-7qhiye"),A(e,"class","rule-group svelte-7qhiye"),A(e,"id","rules"+t[38])},m(d,i){G(d,e,i),b(e,l),b(e,n),Oe(o,e,null),I=!0,k||(m=R(l,"click",U),k=!0)},p(d,i){t=d;const y={};i[0]&256&&(y.id=t[36].id),!r&&i[0]&256&&(r=!0,y.sFrom=t[36].sFrom,ie(()=>r=!1)),!_&&i[0]&256&&(_=!0,y.sTo=t[36].sTo,ie(()=>_=!1)),!p&&i[0]&256&&(p=!0,y.sNeighbor=t[36].sNeighbor,ie(()=>p=!1)),!E&&i[0]&512&&(E=!0,y.sOptions=t[9],ie(()=>E=!1)),!T&&i[0]&256&&(T=!0,y.nums=t[36].nums,ie(()=>T=!1)),o.$set(y)},i(d){I||(W(o.$$.fragment,d),I=!0)},o(d){ee(o.$$.fragment,d),I=!1},d(d){d&&S(e),Se(o),k=!1,m()}}}function at(t){let e,l,s,n,o,r,_,p,E,T,I="Clear",k,m,U,B,X,g,w,O,c,d,i,y,te,M,oe="Add state",D,Y,he,le,pe="Add rule",$,_e,be,ne=Q(t[2]),q=[];for(let a=0;a<ne.length;a+=1)q[a]=He(Ye(t,ne,a));const ye=a=>ee(q[a],1,1,()=>{q[a]=null});let se=Q(t[0]),u=[];for(let a=0;a<se.length;a+=1)u[a]=Ke(We(t,se,a));const h=a=>ee(u[a],1,1,()=>{u[a]=null});let C=Q(t[8]),N=[];for(let a=0;a<C.length;a+=1)N[a]=Ze(Qe(t,C,a));const L=a=>ee(N[a],1,1,()=>{N[a]=null});return{c(){e=F("div");for(let a=0;a<q.length;a+=1)q[a].c();l=j(),s=F("div"),n=F("button"),o=Z("Play"),r=j(),_=F("button"),p=Z("Step"),E=j(),T=F("button"),T.textContent=I,k=j(),m=F("button"),U=Z("Pause"),X=Z(`
    Size
    `),g=F("input"),w=Z(`
    Speed
    `),O=F("input"),c=Z(`
    Loop
    `),d=F("input"),i=j(),y=F("div");for(let a=0;a<u.length;a+=1)u[a].c();te=j(),M=F("button"),M.textContent=oe,D=j(),Y=F("div");for(let a=0;a<N.length;a+=1)N[a].c();he=j(),le=F("button"),le.textContent=pe,this.h()},l(a){e=P(a,"DIV",{class:!0,style:!0});var v=V(e);for(let K=0;K<q.length;K+=1)q[K].l(v);v.forEach(S),l=J(a),s=P(a,"DIV",{class:!0});var f=V(s);n=P(f,"BUTTON",{});var H=V(n);o=x(H,"Play"),H.forEach(S),r=J(f),_=P(f,"BUTTON",{});var qe=V(_);p=x(qe,"Step"),qe.forEach(S),E=J(f),T=P(f,"BUTTON",{"data-svelte-h":!0}),Ne(T)!=="svelte-h1clvx"&&(T.textContent=I),k=J(f),m=P(f,"BUTTON",{});var Ae=V(m);U=x(Ae,"Pause"),Ae.forEach(S),X=x(f,`
    Size
    `),g=P(f,"INPUT",{type:!0,min:!0,max:!0}),w=x(f,`
    Speed
    `),O=P(f,"INPUT",{type:!0,min:!0,max:!0}),c=x(f,`
    Loop
    `),d=P(f,"INPUT",{type:!0}),i=J(f),y=P(f,"DIV",{class:!0});var ve=V(y);for(let K=0;K<u.length;K+=1)u[K].l(ve);te=J(ve),M=P(ve,"BUTTON",{"data-svelte-h":!0}),Ne(M)!=="svelte-16d6i6y"&&(M.textContent=oe),ve.forEach(S),D=J(f),Y=P(f,"DIV",{class:!0});var Te=V(Y);for(let K=0;K<N.length;K+=1)N[K].l(Te);he=J(Te),le=P(Te,"BUTTON",{"data-svelte-h":!0}),Ne(le)!=="svelte-8tncjs"&&(le.textContent=pe),Te.forEach(S),f.forEach(S),this.h()},h(){A(e,"class","board svelte-7qhiye"),De(e,"grid-template-columns","repeat("+t[1]+", 0fr)"),n.disabled=t[5],_.disabled=t[5],m.disabled=B=!t[5],A(g,"type","number"),A(g,"min","5"),A(g,"max","70"),A(O,"type","range"),A(O,"min","10"),A(O,"max","1000"),A(d,"type","checkbox"),A(y,"class","state-controls svelte-7qhiye"),A(Y,"class","rule-controls"),A(s,"class","controls svelte-7qhiye")},m(a,v){G(a,e,v);for(let f=0;f<q.length;f+=1)q[f]&&q[f].m(e,null);G(a,l,v),G(a,s,v),b(s,n),b(n,o),b(s,r),b(s,_),b(_,p),b(s,E),b(s,T),b(s,k),b(s,m),b(m,U),b(s,X),b(s,g),z(g,t[1]),b(s,w),b(s,O),z(O,t[3]),b(s,c),b(s,d),d.checked=t[6],b(s,i),b(s,y);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(y,null);b(y,te),b(y,M),b(s,D),b(s,Y);for(let f=0;f<N.length;f+=1)N[f]&&N[f].m(Y,null);b(Y,he),b(Y,le),$=!0,_e||(be=[R(n,"click",t[18]),R(_,"click",t[19]),R(T,"click",t[11]),R(m,"click",t[20]),R(g,"input",t[21]),R(g,"change",t[12]),R(O,"change",t[22]),R(O,"input",t[22]),R(d,"change",t[23]),R(M,"click",t[14]),R(le,"click",t[15])],_e=!0)},p(a,v){if(v[0]&1031){ne=Q(a[2]);let f;for(f=0;f<ne.length;f+=1){const H=Ye(a,ne,f);q[f]?(q[f].p(H,v),W(q[f],1)):(q[f]=He(H),q[f].c(),W(q[f],1),q[f].m(e,null))}for(Ce(),f=ne.length;f<q.length;f+=1)ye(f);Ie()}if((!$||v[0]&2)&&De(e,"grid-template-columns","repeat("+a[1]+", 0fr)"),(!$||v[0]&32)&&(n.disabled=a[5]),(!$||v[0]&32)&&(_.disabled=a[5]),(!$||v[0]&32&&B!==(B=!a[5]))&&(m.disabled=B),v[0]&2&&Ue(g.value)!==a[1]&&z(g,a[1]),v[0]&8&&z(O,a[3]),v[0]&64&&(d.checked=a[6]),v[0]&129){se=Q(a[0]);let f;for(f=0;f<se.length;f+=1){const H=We(a,se,f);u[f]?(u[f].p(H,v),W(u[f],1)):(u[f]=Ke(H),u[f].c(),W(u[f],1),u[f].m(y,te))}for(Ce(),f=se.length;f<u.length;f+=1)h(f);Ie()}if(v[0]&66304){C=Q(a[8]);let f;for(f=0;f<C.length;f+=1){const H=Qe(a,C,f);N[f]?(N[f].p(H,v),W(N[f],1)):(N[f]=Ze(H),N[f].c(),W(N[f],1),N[f].m(Y,he))}for(Ce(),f=C.length;f<N.length;f+=1)L(f);Ie()}},i(a){if(!$){for(let v=0;v<ne.length;v+=1)W(q[v]);for(let v=0;v<se.length;v+=1)W(u[v]);for(let v=0;v<C.length;v+=1)W(N[v]);$=!0}},o(a){q=q.filter(Boolean);for(let v=0;v<q.length;v+=1)ee(q[v]);u=u.filter(Boolean);for(let v=0;v<u.length;v+=1)ee(u[v]);N=N.filter(Boolean);for(let v=0;v<N.length;v+=1)ee(N[v]);$=!1},d(a){a&&(S(e),S(l),S(s)),re(q,a),re(u,a),re(N,a),_e=!1,Be(be)}}}function ht(t,e,l){let s,n=50,o=[];for(let u=0;u<n;u++)for(let h=0;h<n;h++)o.push({x:h,y:u,state:"off"});let r=1,_=200,p=!1,E=!1,T=!1,I="off",k=[{name:"off",color:"#000000"},{name:"default",color:"#ffa500"}],m=[{id:r++,sFrom:"off",sTo:"default",sNeighbor:"default",nums:[3]},{id:r++,sFrom:"default",sTo:"off",sNeighbor:"default",nums:[0,1,4,5,6,7,8]}];function U(u){const{x:h,y:C}=u.detail;l(2,o=o.map(N=>N.x===h&&N.y===C?{...N,state:I}:N))}async function B(){l(2,o=o.map(u=>({x:u.x,y:u.y,state:"off"}))),l(4,p=!0),setTimeout(()=>l(5,E=!1),200),l(4,p=!1)}function X(u){let h=[];if(T){let C=u<n,N=u>=n*n-n,L=u%n==0,a=(u+1)%n==0;C?h.push(n*n-n+u):h.push(u-n),N?h.push(u-(n*n-n)):h.push(u+n),L?h.push(u+(n-1)):h.push(u-1),a?h.push(u-(n-1)):h.push(u+1),C&&L?h.push(n*n-1):!C&&L?h.push(u-1):C&&!L?h.push(u+(n*n-n)-1):h.push(u-n-1),C&&a?h.push(n*n-n):C&&!a?h.push(u+(n*n-n)+1):!C&&a?h.push(u+1-n-n):h.push(u-(n-1)),N&&L?h.push(n-1):N&&!L?h.push(u-(n*n-n)-1):!N&&L?h.push(u+n+n-1):h.push(u+n-1),N&&a&&h.push(0),N&&!a&&h.push(u-(n*n-n)+1),!N&&a?h.push(u+1):h.push(u+n+1)}else h=[u+n,u-n],(u+1)%n!=0&&(h.push(u+1),h.push(u-(n-1)),h.push(u+n+1)),u%n!=0&&(h.push(u-1),h.push(u-n-1),h.push(u+n-1));return u==0&&console.log(h),h}async function g(){B(),l(2,o=[]);for(let u=0;u<n;u++)for(let h=0;h<n;h++)o.push({x:h,y:u,state:"off"});await Ve()}async function w(u){u&&l(5,E=!0);let h=[];for(let C=0;C<n*n;C++){let N=new Map;s.forEach(L=>{N.set(L,0)}),X(C).forEach(L=>{if(L>=0&&L<n*n){let a=o[L].state;N.set(a,N.get(a)+1)}}),h[C]=o[C],m.forEach(L=>{o[C].state===L.sFrom&&L.nums.includes(N.get(L.sNeighbor))&&(h[C]={x:o[C].x,y:o[C].y,state:L.sTo})})}JSON.stringify(o)!=JSON.stringify(h)&&(l(2,o=h),await Ve(),p?(l(5,E=!1),l(4,p=!1)):u&&setTimeout(()=>w(u),_))}function O(){l(9,s=[...s,"new"]),l(0,k=[...k,{name:"new",color:"#ffffff"}])}function c(){l(8,m=[...m,{id:r++,sFrom:"off",sTo:"off",sNeighbor:"off",nums:[]}])}async function d(u){let h=[];console.log(u),m.forEach(C=>{C.id!=u&&h.push(C)}),l(8,m=h),console.log(m)}const i=[[]],y=(u,h)=>h.name===u.state,te=()=>w(!0),M=()=>w(!1),oe=()=>l(4,p=!0);function D(){n=Ue(this.value),l(1,n)}function Y(){_=Ue(this.value),l(3,_)}function he(){T=this.checked,l(6,T)}function le(){I=this.__value,l(7,I)}function pe(u,h){t.$$.not_equal(h.name,u)&&(h.name=u,l(0,k))}function $(u,h){t.$$.not_equal(h.color,u)&&(h.color=u,l(0,k))}const _e=u=>d(u.id);function be(u,h){t.$$.not_equal(h.sFrom,u)&&(h.sFrom=u,l(8,m))}function ne(u,h){t.$$.not_equal(h.sTo,u)&&(h.sTo=u,l(8,m))}function q(u,h){t.$$.not_equal(h.sNeighbor,u)&&(h.sNeighbor=u,l(8,m))}function ye(u){s=u,l(9,s),l(0,k)}function se(u,h){t.$$.not_equal(h.nums,u)&&(h.nums=u,l(8,m))}return t.$$.update=()=>{t.$$.dirty[0]&1&&l(9,s=k.map(u=>u.name))},[k,n,o,_,p,E,T,I,m,s,U,B,g,w,O,c,d,y,te,M,oe,D,Y,he,le,i,pe,$,_e,be,ne,q,ye,se]}class ct extends de{constructor(e){super(),me(this,e,ht,at,ge,{},null,[-1,-1])}}function _t(t){let e,l;return e=new ct({}),{c(){ke(e.$$.fragment)},l(s){Ee(e.$$.fragment,s)},m(s,n){Oe(e,s,n),l=!0},p:ae,i(s){l||(W(e.$$.fragment,s),l=!0)},o(s){ee(e.$$.fragment,s),l=!1},d(s){Se(e,s)}}}class mt extends de{constructor(e){super(),me(this,e,null,_t,ge,{})}}export{mt as component};
